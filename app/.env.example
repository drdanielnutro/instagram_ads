# Runtime mode: Vertex AI (no API key)
GOOGLE_GENAI_USE_VERTEXAI=True
GOOGLE_CLOUD_PROJECT=instagram-ads-472021
GOOGLE_CLOUD_LOCATION=us-central1

# CORS
ALLOW_ORIGINS=*

# Artifacts / logs bucket (GCS)
ARTIFACTS_BUCKET=gs://instagram-ads-472021-facilitador-logs-data
ARTIFACTS_BUCKET_LOCATION=us-central1

# --- Vertex AI Performance Tuning ---

# Concurrency limit for simultaneous requests to Vertex AI
VERTEX_CONCURRENCY_LIMIT=3

# Exponential backoff settings for retrying failed Vertex AI requests
VERTEX_RETRY_MAX_ATTEMPTS=5
VERTEX_RETRY_INITIAL_BACKOFF=1.0
VERTEX_RETRY_MAX_BACKOFF=30.0
VERTEX_RETRY_BACKOFF_MULTIPLIER=2.0
VERTEX_RETRY_JITTER=1.5

# --- StoryBrand Analysis Tuning ---

# Adaptive truncation for large HTML inputs to avoid token limits
STORYBRAND_HARD_CHAR_LIMIT=20000
STORYBRAND_SOFT_CHAR_LIMIT=12000
STORYBRAND_TAIL_RATIO=0.2

# Optional local caching for StoryBrand analysis results
STORYBRAND_CACHE_ENABLED=true
STORYbrand_CACHE_MAXSIZE=32
STORYBRAND_CACHE_TTL=900


# Notes:
# - Do NOT set GOOGLE_API_KEY when using Vertex AI.
# - Ensure project APIs are enabled: aiplatform, storage, logging.
# - Create the bucket once in the target region, e.g.:
#   gcloud storage buckets create gs://instagram-ads-472021-facilitador-logs-data \
#     --project=instagram-ads-472021 --location=us-central1 --uniform-bucket-level-access